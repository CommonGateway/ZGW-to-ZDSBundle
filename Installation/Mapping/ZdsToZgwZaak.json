{
  "title": "ZdsToZgwRol",
  "$id": "https://zds.nl/mapping/zds.ZdsToZgwRol.mapping.json",
  "$schema": "https://docs.commongateway.nl/schemas/Mapping.schema.json",
  "version": "0.0.18",
  "passTrough": false,
  "mapping": {
    "_expand.zaak.identificatie": "{% if Body.zakLk01.object.identificatie is iterable %}{{ Body.zakLk01.object.identificatie['#'] }}{% else %}{{ Body.zakLk01.object.identificatie }}{% endif %}",
    "_expand.zaak.bronorganisatie": "999990674",
    "_expand.zaak.omschrijving": "{% if Body.zakLk01.object.omschrijving is iterable %}{{ Body.zakLk01.object.omschrijving['#'] }}{% else %}{{ Body.zakLk01.object.omschrijving }}{% endif %}",
    "_expand.zaak.toelichting": "{% if Body.zakLk01.object.toelichting is iterable %}{{ Body.zakLk01.object.toelichting['#'] }}{% else %}{{ Body.zakLk01.object.toelichting }}{% endif %}",
    "_expand.zaak.zaaktype": "{% set filteredZaaktypen = _zaaktypen|filter(v => v.identificatie == Body.zakLk01.object.isVan.gerelateerde.code)|filter(v => v.beginGeldigheid < 'now'|date)|filter(v => v.eindeGeldigheid is null or v.eindeGeldigheid|date > 'now'|date)%}{{ filteredZaaktypen|column('url')|first }}",
    "_expand.zaak.verantwoordelijkeOrganisatie": "9999990674",
    "_expand.zaak.startdatum": "{% if Body.zakLk01.object.startdatum is iterable %}{{ Body.zakLk01.object.startdatum['#'] }}{% else %}{{ Body.zakLk01.object.startdatum }}{% endif %}",
    "_expand.zaak.registratiedatum": "{% if Body.zakLk01.object.registratiedatum is iterable %}{{ Body.zakLk01.object.registratiedatum['#'] }}{% else %}{{ Body.zakLk01.object.registratiedatum }}{% endif %}",
    "_expand.zaak.einddatumGepland": "{% if Body.zakLk01.object.einddatumGepland is iterable %}{{ Body.zakLk01.object.einddatumGepland['#'] }}{% else %}{{ Body.zakLk01.object.einddatumGepland}}{% endif %}",
    "_expand.zaak.uiterlijkeEinddatumAfdoening": "{% if Body.zakLk01.object.uiterlijkeEinddatum is iterable %}{{ Body.zakLk01.object.uiterlijkeEinddatum['#'] }}{% else %}{{ Body.zakLk01.object.uiterlijkeEinddatum }}{% endif %}",
    "_expand.zaak.publicatiedatum": "{% if Body.zakLk01.object.publicatiedatum is iterable %}{{ Body.zakLk01.object.publicatiedatum['#'] }}{% else %}{{ Body.zakLk01.object.publicatiedatum }}{% endif %}",
    "_expand.zaak.betalingsindicatie": "{% if Body.zakLk01.object.betalingsIndicatie is iterable %}{{ Body.zakLk01.object.betalingsIndicatie['#'] }}{% else %}{{ Body.zakLk01.object.betalingsIndicatie }}{% endif %}",
    "_expand.zaak.laatsteBetaaldatum": "{% if Body.zakLk01.object.laatsteBetaaldatum is iterable %}{{ Body.zakLk01.object.laatsteBetaaldatum['#'] }}{% else %}{{ Body.zakLk01.object.laatsteBetaaldatum }}{% endif %}",
    "_expand.zaak.productenOfDiensten": "[]",
    "_expand.zaak._expand.eigenschappen": "{% set filteredZaaktypen = _zaaktypen|filter(v => v.identificatie == Body.zakLk01.object.isVan.gerelateerde.code)|filter(v => v.beginGeldigheid < 'now'|date)|filter(v => v.eindeGeldigheid is null or v.eindeGeldigheid|date > 'now'|date)%}[{% for element in Body.zakLk01.object.extraElementen.extraElement %}{% if not loop.first %},{% endif %}{{ '{\"waarde\": \"' ~ element['#'] ~'\", \"eigenschap\": \"' ~ ((_eigenschappen|filter(v => v.url in filteredZaaktypen|column('eigenschappen')[0])|filter(v => v.naam == element['@naam']))|first).url ~ '\"}' }}{% endfor %}]",
    "betrokkeneType": "{{ (Body.zakLk01.object.heeftAlsInitiator.gerelateerde|keys)|first }}",
    "rolType": "{% set filteredZaaktypen = _zaaktypen|filter(v => v.identificatie == Body.zakLk01.object.isVan.gerelateerde.code)|filter(v => v.beginGeldigheid < 'now'|date)|filter(v => v.eindeGeldigheid is null or v.eindeGeldigheid|date > 'now'|date)%}{{ ((_roltypen|filter(v => v.url in filteredZaaktypen|column('roltypen')|first)|filter(v => v.omschrijvingGeneriek == 'initiator'))|first).url }}",
    "rolToelichting": "",
    "betrokkeneIdentificatie.inpBsn": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon['inp&#46;bsn'] is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon['inp&#46;bsn']['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon['inp&#46;bsn'] }}{% endif %}",
    "betrokkeneIdentificatie.geslachtsnaam": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geslachtsnaam is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geslachtsnaam['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geslachtsnaam }}{% endif %}",
    "betrokkeneIdentificatie.voorvoegselGeslachtsnaam": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voorvoegselGeslachtsnaam is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voorvoegselGeslachtsnaam['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voorvoegselGeslachtsnaam }}{% endif %}",
    "betrokkeneIdentificatie.voorletters": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voorletters is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voorletters['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voorletters }}{% endif %}",
    "betrokkeneIdentificatie.voornamen": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voornamen is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voornamen['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.voornamen }}{% endif %}",
    "betrokkeneIdentificatie.geslachtsaanduiding": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geslachtsaanduiding is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geslachtsaanduiding['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geslachtsaanduiding }}{% endif %}",
    "betrokkeneIdentificatie.geboortedatum": "{{ (Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geboortedatum[:2] ~  '-' ~ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geboortedatum[2:2] ~ '-' ~ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.geboortedatum[4:2])|date('Y-m-d')}}",
    "betrokkeneIdentificatie.verblijfsadres.aoaIdentificatie": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;identificatie'] is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;identificatie']['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;identificatie'] }}{% endif %}",
    "betrokkeneIdentificatie.verblijfsadres.wplWoonplaatsNaam": "{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['wpl&#46;woonplaatsNaam'] }}",
    "betrokkeneIdentificatie.verblijfsadres.gorOpenbareRuimteNaam": "{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['gor&#46;openbareRuimteNaam'] }}",
    "betrokkeneIdentificatie.verblijfsadres.aoaPostcode": "{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;postcode'] }}",
    "betrokkeneIdentificatie.verblijfsadres.aoaHuisnummer": "{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;huisnummer'] }}",
    "betrokkeneIdentificatie.verblijfsadres.aoaHuisletter": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;huisletter'] is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;huisletter']['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;huisletter'] }}{% endif %}",
    "betrokkeneIdentificatie.verblijfsadres.aoaHuisnummertoevoeging": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;huisnummertoevoeging'] is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;huisnummertoevoeging']['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['aoa&#46;huisnummertoevoeging'] }}{% endif %}",
    "betrokkeneIdentificatie.verblijfsadres.inpLocatiebeschrijving": "{% if Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['inp&#46;locatiebeschrijving'] is iterable %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['inp&#46;locatiebeschrijving']['#'] }}{% else %}{{ Body.zakLk01.object.heeftAlsInitiator.gerelateerde.natuurlijkPersoon.verblijfsadres['inp&#46;locatiebeschrijving'] }}{% endif %}"
  },
  "cast": {
    "_expand.zaak._expand.eigenschappen": "jsonToArray",
    "_expand.zaak.productenOfDiensten": "jsonToArray",
    "_expand.zaak.identificatie": "unsetIfValue==",
    "_expand.zaak.omschrijving": "unsetIfValue==",
    "_expand.zaak.toelichting": "unsetIfValue==",
    "_expand.zaak.startdatum": "unsetIfValue==",
    "_expand.zaak.registratiedatum": "unsetIfValue==",
    "_expand.zaak.einddatumGepland": "unsetIfValue==",
    "_expand.zaak.uiterlijkeEinddatumAfdoening": "unsetIfValue==",
    "_expand.zaak.publicatiedatum":"unsetIfValue==",
    "_expand.zaak.betalingsindicatie": "unsetIfValue==",
    "_expand.zaak.laatsteBetaaldatum": "unsetIfValue==",
    "betrokkeneIdentificatie.inpBsn": "unsetIfValue==",
    "betrokkeneIdentificatie.geslachtsnaam": "unsetIfValue==",
    "betrokkeneIdentificatie.voorvoegselGeslachtsnaam": "unsetIfValue==",
    "betrokkeneIdentificatie.voorletters": "unsetIfValue==",
    "betrokkeneIdentificatie.voornamen": "unsetIfValue==",
    "betrokkeneIdentificatie.geslachtsaanduiding": "unsetIfValue==",
    "betrokkeneIdentificatie.geboortedatum": "unsetIfValue==",
    "betrokkeneIdentificatie.verblijfsadres.aoaIdentificatie": "unsetIfValue==",
    "betrokkeneIdentificatie.verblijfsadres.wplWoonplaatsNaam": "unsetIfValue==",
    "betrokkeneIdentificatie.verblijfsadres.gorOpenbareRuimteNaam": "unsetIfValue==",
    "betrokkeneIdentificatie.verblijfsadres.aoaPostcode": "unsetIfValue==",
    "betrokkeneIdentificatie.verblijfsadres.aoaHuisnummer": "unsetIfValue==",
    "betrokkeneIdentificatie.verblijfsadres.aoaHuisletter": "unsetIfValue==",
    "betrokkeneIdentificatie.verblijfsadres.aoaHuisnummertoevoeging": "unsetIfValue==",
    "betrokkeneIdentificatie.verblijfsadres.inpLocatiebeschrijving": "unsetIfValue=="
  }
}
